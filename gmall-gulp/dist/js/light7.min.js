+function(e){"use strict";var t={autoInit:!1,showPageLoadingIndicator:!0,router:!0,swipePanel:"left",swipePanelOnlyClose:!1,pushAnimationDuration:400};e.smConfig=e.extend(t,e.config)}($),function(e){"use strict";var t={},n=navigator.userAgent,a=n.match(/(Android);?[\s\/]+([\d.]+)?/),o=n.match(/(iPad).*OS\s([\d_]+)/),r=n.match(/(iPod)(.*OS\s([\d_]+))?/),i=!o&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,a&&(t.os="android",t.osVersion=a[2],t.android=!0,t.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(o||i||r)&&(t.os="ios",t.ios=!0),i&&!r&&(t.osVersion=i[2].replace(/_/g,"."),t.iphone=!0),o&&(t.osVersion=o[2].replace(/_/g,"."),t.ipad=!0),r&&(t.osVersion=r[3]?r[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&n.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(i||o||r)&&n.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var s=t.osVersion.split(".");t.minimalUi=!t.webView&&(r||i)&&(1*s[0]===7?1*s[1]>=1:1*s[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var l=e(window).width(),c=e(window).height();t.statusBar=!1,t.webView&&l*c===screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var d=[];if(t.pixelRatio=window.devicePixelRatio||1,d.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&d.push("retina"),t.os&&(d.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var p=parseInt(t.osVersion.split(".")[0],10),u=p-1;u>=6;u--)d.push("ios-gt-"+u);t.statusBar?d.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),d.length>0&&e("html").addClass(d.join(" ")),e.device=t}($),+function(e){"use strict";e.compareVersion=function(e,t){var n=e.split("."),a=t.split(".");if(e===t)return 0;for(var o=0;o<n.length;o++){var r=parseInt(n[o]);if(!a[o])return 1;var i=parseInt(a[o]);if(r<i)return-1;if(r>i)return 1}return 1},e.getTouchPosition=function(e){return e=e.originalEvent||e,"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type?{x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}:{x:e.pageX,y:e.pageY}}}($),+function(e){"use strict";function t(e,t){var n=this.os={},a=this.browser={},o=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),i=!!e.match(/\(Macintosh\; Intel /),s=e.match(/(iPad).*OS\s([\d_]+)/),l=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!s&&e.match(/(iPhone\sOS)\s([\d_]+)/),d=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),p=/Win\d{2}|Windows/.test(t),u=e.match(/Windows Phone ([\d.]+)/),h=d&&e.match(/TouchPad/),m=e.match(/Kindle\/([\d.]+)/),f=e.match(/Silk\/([\d._]+)/),v=e.match(/(BlackBerry).*Version\/([\d.]+)/),g=e.match(/(BB10).*Version\/([\d.]+)/),y=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),C=e.match(/PlayBook/),w=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),k=e.match(/Firefox\/([\d.]+)/),b=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),x=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!w&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),M=T||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(a.webkit=!!o)&&(a.version=o[1]),r&&(n.android=!0,n.version=r[2]),c&&!l&&(n.ios=n.iphone=!0,n.version=c[2].replace(/_/g,".")),s&&(n.ios=n.ipad=!0,n.version=s[2].replace(/_/g,".")),l&&(n.ios=n.ipod=!0,n.version=l[3]?l[3].replace(/_/g,"."):null),u&&(n.wp=!0,n.version=u[1]),d&&(n.webos=!0,n.version=d[2]),h&&(n.touchpad=!0),v&&(n.blackberry=!0,n.version=v[2]),g&&(n.bb10=!0,n.version=g[2]),y&&(n.rimtabletos=!0,n.version=y[2]),C&&(a.playbook=!0),m&&(n.kindle=!0,n.version=m[1]),f&&(a.silk=!0,a.version=f[1]),!f&&n.android&&e.match(/Kindle Fire/)&&(a.silk=!0),w&&(a.chrome=!0,a.version=w[1]),k&&(a.firefox=!0,a.version=k[1]),b&&(n.firefoxos=!0,n.version=b[1]),x&&(a.ie=!0,a.version=x[1]),M&&(i||n.ios||p)&&(a.safari=!0,n.ios||(a.version=M[1])),T&&(a.webview=!0),n.tablet=!!(s||C||r&&!e.match(/Mobile/)||k&&e.match(/Tablet/)||x&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(r||c||d||v||g||w&&e.match(/Android/)||w&&e.match(/CriOS\/([\d.]+)/)||k&&e.match(/Mobile/)||x&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform),e.__detect=t}($),function(e){"use strict";["width","height"].forEach(function(t){var n=t.replace(/./,function(e){return e[0].toUpperCase()});e.fn["outer"+n]=function(e){var n=this;if(n){var a=n[t](),o={width:["left","right"],height:["top","bottom"]};return o[t].forEach(function(t){e&&(a+=parseInt(n.css("margin-"+t),10))}),a}return null}}),e.noop=function(){},e.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e}(),e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"},e.getTranslate=function(e,t){var n,a,o,r;return"undefined"==typeof t&&(t="x"),o=window.getComputedStyle(e,null),window.WebKitCSSMatrix?r=new WebKitCSSMatrix("none"===o.webkitTransform?"":o.webkitTransform):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=r.toString().split(",")),"x"===t&&(a=window.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(a=window.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),a||0},e.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},e.fn.transitionEnd=function(e){function t(r){if(r.target===this)for(e.call(this,r),n=0;n<a.length;n++)o.off(a[n],t)}var n,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],o=this;if(e)for(n=0;n<a.length;n++)o.on(a[n],t);return this},e.fn.dataset=function(){var t=this[0];if(t){var n={};if(t.dataset)for(var a in t.dataset)n[a]=t.dataset[a];else for(var o=0;o<t.attributes.length;o++){var r=t.attributes[o];r.name.indexOf("data-")>=0&&(n[e.toCamelCase(r.name.split("data-")[1])]=r.value)}for(var i in n)"false"===n[i]?n[i]=!1:"true"===n[i]?n[i]=!0:parseFloat(n[i])===1*n[i]&&(n[i]=1*n[i]);return n}},e.fn.data=function(e,t){if("undefined"!=typeof t){for(var n=0;n<this.length;n++){var a=this[n];a.smElementDataStorage||(a.smElementDataStorage={}),a.smElementDataStorage[e]=t}return this}if(this[0]&&this[0].getAttribute){var o=this[0].getAttribute("data-"+e);return o?o:this[0].smElementDataStorage&&e in this[0].smElementDataStorage?this[0].smElementDataStorage[e]:void 0}},e.fn.animationEnd=function(e){function t(r){for(e(r),n=0;n<a.length;n++)o.off(a[n],t)}var n,a=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],o=this;if(e)for(n=0;n<a.length;n++)o.on(a[n],t);return this},e.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},e.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},e.fn.prevAll=function(t){var n=[],a=this[0];if(!a)return e([]);for(;a.previousElementSibling;){var o=a.previousElementSibling;t?e(o).is(t)&&n.push(o):n.push(o),a=o}return e(n)},e.fn.nextAll=function(t){var n=[],a=this[0];if(!a)return e([]);for(;a.nextElementSibling;){var o=a.nextElementSibling;t?e(o).is(t)&&n.push(o):n.push(o),a=o}return e(n)},e.fn.show=function(){function e(e){var n,a;return t[e]||(n=document.createElement(e),document.body.appendChild(n),a=getComputedStyle(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"===a&&(a="block"),t[e]=a),t[e]}var t={};return this.each(function(){"none"===this.style.display&&(this.style.display=""),"none"===getComputedStyle(this,"").getPropertyValue("display"),this.style.display=e(this.nodeName)})},e.fn.scrollHeight=function(){return this[0].scrollHeight}}($),function(e){"use strict";function t(e,n){function o(e,t){return function(){return e.apply(t,arguments)}}var r;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=i.length;l<c;l++)s[i[l]]=o(s[i[l]],s);a&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,a){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,n.hijacked||n,a):o.call(e,t,n,a)},e.addEventListener=function(t,n,a){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),a):o.call(e,t,n,a)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(e){r(e)},!1),e.onclick=null)}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!n,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,r=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i=o&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(o&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},t.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},t.prototype.sendClick=function(e,t){var n,a;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),a=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},t.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(e){var t;o&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},t.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},t.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],o){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},t.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var n,s,l,c,d,p=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,i&&(d=t.changedTouches[0],p=document.elementFromPoint(d.pageX-window.pageXOffset,d.pageY-window.pageYOffset)||p,p.fastClickScrollParent=this.targetElement.fastClickScrollParent),l=p.tagName.toLowerCase(),"label"===l){if(n=this.findControl(p)){if(this.focus(p),a)return!1;p=n}}else{if(this.needsFocus(p))return t.timeStamp-s>100||o&&window.top!==window&&"input"===l?(this.targetElement=null,!1):(this.focus(p),this.sendClick(p,t),o&&"select"===l||(this.targetElement=null,t.preventDefault()),!1);for(var u=p;u&&"BODY"!==u.tagName.toUpperCase();)"LABEL"===u.tagName.toUpperCase()&&e(u).find("input").click(),u=u.parentNode}return!(!o||r||(c=p.fastClickScrollParent,!c||c.fastClickLastScrollTop===c.scrollTop))||(this.needsClick(p)||(t.preventDefault(),this.sendClick(p,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},t.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},t.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(e){var t,n,o,r;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(r>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},t.attach=function(e,n){return new t(e,n)},e(function(){t.attach(document.body)})}($),+function(e){"use strict";e.Template7=e.t7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function n(e){var t,n,a,o=e.replace(/[{}#}]/g,"").split(" "),r=[];for(n=0;n<o.length;n++){var i=o[n];if(0===n)r.push(i);else if(0===i.indexOf('"'))if(2===i.match(/"/g).length)r.push(i);else{for(t=0,a=n+1;a<o.length;a++)if(i+=" "+o[a],o[a].indexOf('"')>=0){t=a,r.push(i);break}t&&(n=t)}else if(i.indexOf("=")>0){var s=i.split("="),l=s[0],c=s[1];if(2!==c.match(/"/g).length){for(t=0,a=n+1;a<o.length;a++)if(c+=" "+o[a],o[a].indexOf('"')>=0){t=a;break}t&&(n=t)}var d=[l,c.replace(/"/g,"")];r.push(d)}else r.push(i)}return r}function a(t){var a,o,r=[];if(!t)return[];var i=t.split(/({{[^{^}]*}})/);for(a=0;a<i.length;a++){var s=i[a];if(""!==s)if(s.indexOf("{{")<0)r.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){r.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var l=n(s),c=l[0],d=[],p={};for(o=1;o<l.length;o++){var u=l[o];e(u)?p[u[0]]="false"!==u[1]&&u[1]:d.push(u)}if(s.indexOf("{#")>=0){var h,m="",f="",v=0,g=!1,y=!1,C=0;for(o=a+1;o<i.length;o++)if(i[o].indexOf("{{#")>=0&&C++,i[o].indexOf("{{/")>=0&&C--,i[o].indexOf("{{#"+c)>=0)m+=i[o],y&&(f+=i[o]),v++;else if(i[o].indexOf("{{/"+c)>=0){if(!(v>0)){h=o,g=!0;break}v--,m+=i[o],y&&(f+=i[o])}else i[o].indexOf("else")>=0&&0===C?y=!0:(y||(m+=i[o]),y&&(f+=i[o]));g&&(h&&(a=h),r.push({type:"helper",helperName:c,contextName:d,content:m,inverseContent:f,hash:p}))}else s.indexOf(" ")>0&&r.push({type:"helper",helperName:c,contextName:d,hash:p})}}return r}var o=function(e){function t(e,t){return e.content?i(e.content,t):function(){return""}}function n(e,t){return e.inverseContent?i(e.inverseContent,t):function(){return""}}function o(e,t){var n,a,o=0;if(0===e.indexOf("../")){o=e.split("../").length-1;var r=t.split("_")[1]-o;t="ctx_"+(r>=1?r:1),a=e.split("../")[o].split(".")}else 0===e.indexOf("@global")?(t="$.Template7.global",a=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="ctx_1",a=e.split("@root.")[1].split(".")):a=e.split(".");n=t;for(var i=0;i<a.length;i++){var s=a[i];0===s.indexOf("@")?i>0?n+="[(data && data."+s.replace("@","")+")]":n="(data && data."+e.replace("@","")+")":isFinite(s)?n+="["+s+"]":0===s.indexOf("this")?n=s.replace("this",t):n+="."+s}return n}function r(e,t){for(var n=[],a=0;a<e.length;a++)0===e[a].indexOf('"')?n.push(e[a]):n.push(o(e[a],t));return n.join(", ")}function i(e,i){if(i=i||1,e=e||s.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var l=a(e);if(0===l.length)return function(){return""};var c="ctx_"+i,d="(function ("+c+", data) {\n";1===i&&(d+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",d+="function isFunction(func){return (typeof func === 'function');}\n",d+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),d+="var r = '';\n";var p;for(p=0;p<l.length;p++){var u=l[p];if("plain"!==u.type){var h,m;if("variable"===u.type&&(h=o(u.contextName,c),d+="r += c("+h+", "+c+");"),"helper"===u.type)if(u.helperName in s.helpers)m=r(u.contextName,c),d+="r += ($.Template7.helpers."+u.helperName+").call("+c+", "+(m&&m+", ")+"{hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,i+1)+", inverse: "+n(u,i+1)+", root: ctx_1});";else{if(u.contextName.length>0)throw new Error('Template7: Missing helper: "'+u.helperName+'"');h=o(u.helperName,c),d+="if ("+h+") {",d+="if (isArray("+h+")) {",d+="r += ($.Template7.helpers.each).call("+c+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,i+1)+", inverse: "+n(u,i+1)+", root: ctx_1});",d+="}else {",d+="r += ($.Template7.helpers.with).call("+c+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+t(u,i+1)+", inverse: "+n(u,i+1)+", root: ctx_1});",d+="}}"}}else d+="r +='"+u.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return d+="\nreturn r;})",eval.call(window,d)}var s=this;s.template=e,s.compile=function(e){return s.compiled||(s.compiled=i(e)),s.compiled}};o.prototype={options:{},helpers:{if:function(e,n){return t(e)&&(e=e.call(this)),e?n.fn(this,n.data):n.inverse(this,n.data)},unless:function(e,n){return t(e)&&(e=e.call(this)),e?n.inverse(this,n.data):n.fn(this,n.data)},each:function(n,a){var o="",r=0;if(t(n)&&(n=n.call(this)),e(n)){for(a.hash.reverse&&(n=n.reverse()),r=0;r<n.length;r++)o+=a.fn(n[r],{first:0===r,last:r===n.length-1,index:r});a.hash.reverse&&(n=n.reverse())}else for(var i in n)r++,o+=a.fn(n[i],{key:i});return r>0?o:a.inverse(this)},with:function(e,n){return t(e)&&(e=e.call(this)),n.fn(e)},join:function(e,n){return t(e)&&(e=e.call(this)),e.join(n.hash.delimiter||n.hash.delimeter)},js:function(e,t){var n;return n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,n).call(this)},js_compare:function(e,t){var n;n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})";var a=eval.call(this,n).call(this);return a?t.fn(this,t.data):t.inverse(this,t.data)}}};var r=function(e,t){if(2===arguments.length){var n=new o(e),a=n.compile()(t);return n=null,a}return new o(e)};return r.registerHelper=function(e,t){o.prototype.helpers[e]=t},r.unregisterHelper=function(e){o.prototype.helpers[e]=void 0,delete o.prototype.helpers[e]},r.compile=function(e,t){var n=new o(e,t);return n.compile()},r.options=o.prototype.options,r.helpers=o.prototype.helpers,r}()}($),+function(e){"use strict";e.getCurrentPage=function(){return e(".page")[0]||document.body}}($),+function(e){"use strict";var t=function(t,n,a){var o=e(t),r=o.hasClass("page")?"page-current":"active";if(2===arguments.length&&"boolean"==typeof n&&(a=n),0===o.length)return!1;if(o.hasClass(r))return a&&o.trigger("show"),!1;var i=o.parent(".tabs");if(0===i.length)return!1;var s=i.children(".tab."+r).removeClass(r);if(o.addClass(r),o.trigger("show"),n?n=e(n):(n=e("string"==typeof t?'.tab-link[href="'+t+'"]':'.tab-link[href="#'+o.attr("id")+'"]'),(!n||n&&0===n.length)&&e("[data-tab]").each(function(){o.is(e(this).attr("data-tab"))&&(n=e(this))})),0!==n.length){var l;if(s&&s.length>0){var c=s.attr("id");c&&(l=e('.tab-link[href="#'+c+'"]')),(!l||l&&0===l.length)&&e("[data-tab]").each(function(){s.is(e(this).attr("data-tab"))&&(l=e(this))})}return n&&n.length>0&&n.addClass("active"),l&&l.length>0&&l.removeClass("active"),!0}},n=e.showTab;e.showTab=t,e.showTab.noConflict=function(){return e.showTab=n,this},e(document).on("click",".tab-link",function(n){n.preventDefault();var a=e(this);t(a.data("tab")||a.attr("href"),a)})}($),+function(e){"use strict";e(document).on("click",".tab-item",function(t){var n=e(t.currentTarget);n.hasClass("tab-link")||(n.parent().find(".active").removeClass("active"),n.addClass("active"))});var t=function(t,n){var a=e(".bar-tab .tab-item[href='#"+n+"']");a.parent().find(".active").removeClass("active"),a.addClass("active")};e(document).on("pageInit",t),e(document).on("pageReinit",t),e.showToolbar=function(t){e(document.body)[t?"removeClass":"addClass"]("tabbar-hidden")}}($),+function(e){"use strict";function t(t){var n=e(this),a=(n.attr("href"),n.dataset());if(n.hasClass("open-popover")){var r;r=a.popover?a.popover:".popover",e.popover(r,n)}n.hasClass("close-popover")&&e.closeModal(".popover.modal-in");var i;n.hasClass("open-popup")&&(i=a.popup?a.popup:".popup",e.popup(i)),n.hasClass("close-popup")&&(i=a.popup?a.popup:".popup.modal-in",e.closeModal(i)),n.hasClass("modal-overlay")&&(e(".modal.modal-in").length>0&&o.modalCloseByOutside&&e.closeModal(".modal.modal-in"),e(".actions-modal.modal-in").length>0&&o.actionsCloseByOutside&&e.closeModal(".actions-modal.modal-in"),e(".popover.modal-in").length>0&&e.closeModal(".popover.modal-in")),n.hasClass("popup-overlay")&&e(".popup.modal-in").length>0&&o.popupCloseByOutside&&e.closeModal(".popup.modal-in")}var n=document.createElement("div");e.modalStack=[];var a=e.Template7;e.modalStackClearQueue=function(){e.modalStack.length&&e.modalStack.shift()()},e.modal=function(t){t=t||{};var r="";if(o.modalTemplate)e._compiledTemplates.modal||(e._compiledTemplates.modal=a.compile(o.modalTemplate)),r=e._compiledTemplates.modal(t);else{var i="";if(t.buttons&&t.buttons.length>0)for(var s=0;s<t.buttons.length;s++)i+='<span class="modal-button'+(t.buttons[s].bold?" modal-button-bold":"")+'">'+t.buttons[s].text+"</span>";var l=t.title?'<div class="modal-title">'+t.title+"</div>":"",c=t.text?'<div class="modal-text">'+t.text+"</div>":"",d=t.afterText?t.afterText:"",p=t.buttons&&0!==t.buttons.length?"":"modal-no-buttons",u=t.verticalButtons?"modal-buttons-vertical":"";r='<div class="modal '+p+'"><div class="modal-inner">'+(l+c+d)+'</div><div class="modal-buttons '+u+'">'+i+"</div></div>"}n.innerHTML=r;var h=e(n).children();return e(o.modalContainer).append(h[0]),h.find(".modal-button").each(function(n,a){e(a).on("click",function(a){t.buttons[n].close!==!1&&e.closeModal(h),t.buttons[n].onClick&&t.buttons[n].onClick(h,a),t.onClick&&t.onClick(h,n)})}),e.openModal(h),h[0]},e.alert=function(t,n,a){return"function"==typeof n&&(a=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?o.modalTitle:n,buttons:[{text:o.modalButtonOk,bold:!0,onClick:a}]})},e.confirm=function(t,n,a,r){return"function"==typeof n&&(r=arguments[2],a=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?o.modalTitle:n,buttons:[{text:o.modalButtonCancel,onClick:r},{text:o.modalButtonOk,bold:!0,onClick:a}]})},e.prompt=function(t,n,a,r){return"function"==typeof n&&(r=arguments[2],a=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?o.modalTitle:n,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:o.modalButtonCancel},{text:o.modalButtonOk,bold:!0}],onClick:function(t,n){0===n&&r&&r(e(t).find(".modal-text-input").val()),1===n&&a&&a(e(t).find(".modal-text-input").val())}})},e.modalLogin=function(t,n,a,r){return"function"==typeof n&&(r=arguments[2],a=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?o.modalTitle:n,afterText:'<input type="text" name="modal-username" placeholder="'+o.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+o.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:o.modalButtonCancel},{text:o.modalButtonOk,bold:!0}],onClick:function(t,n){var o=e(t).find('.modal-text-input[name="modal-username"]').val(),i=e(t).find('.modal-text-input[name="modal-password"]').val();0===n&&r&&r(o,i),1===n&&a&&a(o,i)}})},e.modalPassword=function(t,n,a,r){return"function"==typeof n&&(r=arguments[2],a=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?o.modalTitle:n,afterText:'<input type="password" name="modal-password" placeholder="'+o.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:o.modalButtonCancel},{text:o.modalButtonOk,bold:!0}],onClick:function(t,n){var o=e(t).find('.modal-text-input[name="modal-password"]').val();0===n&&r&&r(o),1===n&&a&&a(o)}})},e.showPreloader=function(t){return e.modal({title:t||o.modalPreloaderTitle,text:'<div class="preloader"></div>'})},e.hidePreloader=function(){e.closeModal(".modal.modal-in")},e.showIndicator=function(){e(o.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},e.hideIndicator=function(){e(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},e.actions=function(t,r){var i,s,l,c=!1;1===arguments.length?r=t:e.device.ios?e.device.ipad&&(c=!0):e(window).width()>=768&&(c=!0),r=r||[],r.length>0&&!e.isArray(r[0])&&(r=[r]);var d;if(c){var p=o.modalActionsToPopoverTemplate||'<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';e._compiledTemplates.actionsToPopover||(e._compiledTemplates.actionsToPopover=a.compile(p));var u=e._compiledTemplates.actionsToPopover(r);i=e(e.popover(u,t,!0)),s=".list-block ul",l=".list-button"}else{if(o.modalActionsTemplate)e._compiledTemplates.actions||(e._compiledTemplates.actions=a.compile(o.modalActionsTemplate)),d=e._compiledTemplates.actions(r);else{for(var h="",m=0;m<r.length;m++)for(var f=0;f<r[m].length;f++){0===f&&(h+='<div class="actions-modal-group">');var v=r[m][f],g=v.label?"actions-modal-label":"actions-modal-button";v.bold&&(g+=" actions-modal-button-bold"),v.color&&(g+=" color-"+v.color),v.bg&&(g+=" bg-"+v.bg),v.disabled&&(g+=" disabled"),h+='<span class="'+g+'">'+v.text+"</span>",f===r[m].length-1&&(h+="</div>")}d='<div class="actions-modal">'+h+"</div>"}n.innerHTML=d,i=e(n).children(),e(o.modalContainer).append(i[0]),s=".actions-modal-group",l=".actions-modal-button"}var y=i.find(s);return y.each(function(t,n){var a=t;e(n).children().each(function(t,n){var o,s=t,d=r[a][s];!c&&e(n).is(l)&&(o=e(n)),c&&e(n).find(l).length>0&&(o=e(n).find(l)),o&&o.on("click",function(t){d.close!==!1&&e.closeModal(i),d.onClick&&d.onClick(i,t)})})}),c||e.openModal(i),i[0]},e.popover=function(t,n,a){function r(){t.css({left:"",top:""});var a,o,r=t.width(),i=t.height(),s=t.find(".popover-angle"),l=s.width()/2;s.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var c=n.outerWidth(),d=n.outerHeight(),p=n.offset(),u=n.parents(".page");u.length>0&&(p.top=p.top-u[0].scrollTop);var h=e(window).height(),m=e(window).width(),f=0,v=0,g=0,y="top";i+l<p.top?f=p.top-i-l:i+l<h-p.top-d?(y="bottom",f=p.top+d+l):(y="middle",f=d/2+p.top-i/2,g=f,f<0?f=5:f+i>h&&(f=h-i-5),g-=f),"top"===y||"bottom"===y?(v=c/2+p.left-r/2,g=v,v<5&&(v=5),v+r>m&&(v=m-r-5),"top"===y&&s.addClass("on-bottom"),"bottom"===y&&s.addClass("on-top"),g-=v,a=r/2-l+g,a=Math.max(Math.min(a,r-2*l-6),6),s.css({left:a+"px"})):"middle"===y&&(v=p.left-r-l,s.addClass("on-right"),v<5&&(v=p.left+c+l,s.removeClass("on-right").addClass("on-left")),v+r>m&&(v=m-r-5,s.removeClass("on-right").addClass("on-left")),o=i/2-l+g,o=Math.max(Math.min(o,i-2*l-6),6),s.css({top:o+"px"})),t.css({top:f+"px",left:v+"px"})}if("undefined"==typeof a&&(a=!0),"string"==typeof t&&t.indexOf("<")>=0){var i=document.createElement("div");if(i.innerHTML=t.trim(),!(i.childNodes.length>0))return!1;t=i.childNodes[0],a&&t.classList.add("remove-on-close"),e(o.modalContainer).append(t)}return t=e(t),n=e(n),0!==t.length&&0!==n.length&&(0===t.find(".popover-angle").length&&t.append('<div class="popover-angle"></div>'),t.show(),r(),e(window).on("resize",r),t.on("close",function(){e(window).off("resize",r)}),t.find("."+o.viewClass).length>0&&e.sizeNavbars(t.find("."+o.viewClass)[0]),e.openModal(t),t[0])},e.popup=function(t,n){if("undefined"==typeof n&&(n=!0),"string"==typeof t&&t.indexOf("<")>=0){var a=document.createElement("div");if(a.innerHTML=t.trim(),!(a.childNodes.length>0))return!1;t=a.childNodes[0],n&&t.classList.add("remove-on-close"),e(o.modalContainer).append(t)}return t=e(t),0!==t.length&&(t.show(),t.find("."+o.viewClass).length>0&&e.sizeNavbars(t.find("."+o.viewClass)[0]),e.openModal(t),t[0])},e.pickerModal=function(t,n){if("undefined"==typeof n&&(n=!0),
"string"==typeof t&&t.indexOf("<")>=0){if(t=e(t),!(t.length>0))return!1;n&&t.addClass("remove-on-close"),e(o.modalContainer).append(t[0])}return t=e(t),0!==t.length&&(t.show(),e.openModal(t),t[0])},e.loginScreen=function(t){return t||(t=".login-screen"),t=e(t),0!==t.length&&(t.show(),t.find("."+o.viewClass).length>0&&e.sizeNavbars(t.find("."+o.viewClass)[0]),e.openModal(t),t[0])},e.toast=function(t,n){var a=e("<div class='modal toast'>"+t+"</div>").appendTo(document.body);e.openModal(a),setTimeout(function(){e.closeModal(a)},n||2e3)},e.openModal=function(t){o.closePrevious&&e.closeModal(),t=e(t);var n=t.hasClass("modal");if(e(".modal.modal-in:not(.modal-out)").length&&o.modalStack&&n)return void e.modalStack.push(function(){e.openModal(t)});var a=(t.hasClass("popover"),t.hasClass("popup")),r=t.hasClass("login-screen"),i=t.hasClass("picker-modal"),s=t.hasClass("toast");n&&(t.show(),t.css({marginTop:-Math.round(t.outerHeight()/2)+"px"})),s&&(t.show(),t.css({marginLeft:-Math.round(parseInt(window.getComputedStyle(t[0]).width)/2)+"px"}));var l;r||i||s||(0!==e(".modal-overlay").length||a||e(o.modalContainer).append('<div class="modal-overlay"></div>'),0===e(".popup-overlay").length&&a&&e(o.modalContainer).append('<div class="popup-overlay"></div>'),l=e(a?".popup-overlay":".modal-overlay"));t[0].clientLeft;return t.trigger("open"),i&&e(o.modalContainer).addClass("with-picker-modal"),r||i||s||l.addClass("modal-overlay-visible"),t.removeClass("modal-out").addClass("modal-in").transitionEnd(function(e){t.hasClass("modal-out")?t.trigger("closed"):t.trigger("opened")}),!0},e.closeModal=function(t){if(t=e(t||".modal-in"),"undefined"==typeof t||0!==t.length){var n=t.hasClass("modal"),a=t.hasClass("popover"),r=t.hasClass("popup"),i=t.hasClass("login-screen"),s=t.hasClass("picker-modal"),l=t.hasClass("remove-on-close"),c=e(r?".popup-overlay":".modal-overlay");return r?t.length===e(".popup.modal-in").length&&c.removeClass("modal-overlay-visible"):s||c.removeClass("modal-overlay-visible"),t.trigger("close"),s&&(e(o.modalContainer).removeClass("with-picker-modal"),e(o.modalContainer).addClass("picker-modal-closing")),a?(t.removeClass("modal-in modal-out").trigger("closed").hide(),l&&t.remove()):(t.removeClass("modal-in").addClass("modal-out").transitionEnd(function(n){t.hasClass("modal-out")?t.trigger("closed"):t.trigger("opened"),s&&e(o.modalContainer).removeClass("picker-modal-closing"),r||i||s?(t.removeClass("modal-out").hide(),l&&t.length>0&&t.remove()):t.remove()}),n&&o.modalStack&&e.modalStackClearQueue()),!0}};var o=e.modal.prototype.defaults={modalButtonOk:"OK",modalButtonCancel:"Cancel",modalPreloaderTitle:"Loading...",modalContainer:document.body,modalCloseByOutside:!0,actionsCloseByOutside:!1,popupCloseByOutside:!0,closePrevious:!0};e(function(){e(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .open-popover, .close-popover, .close-picker",t),o.modalContainer=o.modalContainer||document.body})}($),+function(e){"use strict";var t,n=!1,a=function(a){function o(){var t=!1;return d.params.convertToPopover||d.params.onlyInPopover?(!d.inline&&d.params.input&&(d.params.onlyInPopover?t=!0:e.device.ios?t=!!e.device.ipad:e(window).width()>=768&&(t=!0)),t):t}function r(){return!!(d.opened&&d.container&&d.container.length>0&&d.container.parents(".popover").length>0)}function i(e){e=new Date(e);var t=e.getFullYear(),n=e.getMonth(),a=n+1,o=e.getDate(),r=e.getDay();return d.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,a<10?"0"+a:a).replace(/m/g,a).replace(/MM/g,d.params.monthNames[n]).replace(/M/g,d.params.monthNamesShort[n]).replace(/dd/g,o<10?"0"+o:o).replace(/d/g,o).replace(/DD/g,d.params.dayNames[r]).replace(/D/g,d.params.dayNamesShort[r])}function s(e){if(e.preventDefault(),!d.opened&&(d.open(),d.params.scrollToInput&&!o())){var t=d.input.parents(".page-content");if(0===t.length)return;var n,a=parseInt(t.css("padding-top"),10),r=parseInt(t.css("padding-bottom"),10),i=t[0].offsetHeight-a-d.container.height(),s=t[0].scrollHeight-a-d.container.height(),l=d.input.offset().top-a+d.input[0].offsetHeight;if(l>i){var c=t.scrollTop()+l-i;c+i>s&&(n=c+i-s+r,i===s&&(n=d.container.height()),t.css({"padding-bottom":n+"px"})),t.scrollTop(c,300)}}}function l(t){r()||(d.input&&d.input.length>0?t.target!==d.input[0]&&0===e(t.target).parents(".picker-modal").length&&d.close():0===e(t.target).parents(".picker-modal").length&&d.close())}function c(){d.opened=!1,d.input&&d.input.length>0&&d.input.parents(".page-content").css({"padding-bottom":""}),d.params.onClose&&d.params.onClose(d),d.destroyCalendarEvents()}var d=this;a=a||{};for(var p in t)"undefined"==typeof a[p]&&(a[p]=t[p]);d.params=a,d.initialized=!1,d.inline=!!d.params.container,d.isH="horizontal"===d.params.direction;var u=d.isH&&n?-1:1;return d.animating=!1,d.addValue=function(e){if(d.params.multiple){d.value||(d.value=[]);for(var t,n=0;n<d.value.length;n++)new Date(e).getTime()===new Date(d.value[n]).getTime()&&(t=n);"undefined"==typeof t?d.value.push(e):d.value.splice(t,1),d.updateValue()}else d.value=[e],d.updateValue()},d.setValue=function(e){d.value=e,d.updateValue()},d.updateValue=function(){d.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var t,n;for(t=0;t<d.value.length;t++){var a=new Date(d.value[t]);d.wrapper.find('.picker-calendar-day[data-date="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]').addClass("picker-calendar-day-selected")}if(d.params.onChange&&d.params.onChange(d,d.value,d.value.map(i)),d.input&&d.input.length>0){if(d.params.formatValue)n=d.params.formatValue(d,d.value);else{for(n=[],t=0;t<d.value.length;t++)n.push(i(d.value[t]));n=n.join(", ")}e(d.input).val(n),e(d.input).trigger("change")}},d.initCalendarEvents=function(){function t(t){if(!s&&!i){i=!0;var n=e.getTouchPosition(t);l=h=n.x,c=h=n.y,m=(new Date).getTime(),w=0,x=!0,b=void 0,v=g=d.monthsTranslate}}function a(t){if(i){var n=e.getTouchPosition(t);if(p=n.x,h=n.y,"undefined"==typeof b&&(b=!!(b||Math.abs(h-c)>Math.abs(p-l))),d.isH&&b)return void(i=!1);if(t.preventDefault(),d.animating)return void(i=!1);x=!1,s||(s=!0,y=d.wrapper[0].offsetWidth,C=d.wrapper[0].offsetHeight,d.wrapper.transition(0)),t.preventDefault(),k=d.isH?p-l:h-c,w=k/(d.isH?y:C),g=100*(d.monthsTranslate*u+w),d.wrapper.transform("translate3d("+(d.isH?g:0)+"%, "+(d.isH?0:g)+"%, 0)")}}function o(e){return i&&s?(i=s=!1,f=(new Date).getTime(),f-m<300?Math.abs(k)<10?d.resetMonth():k>=10?n?d.nextMonth():d.prevMonth():n?d.prevMonth():d.nextMonth():w<=-.5?n?d.prevMonth():d.nextMonth():w>=.5?n?d.nextMonth():d.prevMonth():d.resetMonth(),void setTimeout(function(){x=!0},100)):void(i=s=!1)}function r(t){if(x){var n=e(t.target).parents(".picker-calendar-day");if(0===n.length&&e(t.target).hasClass("picker-calendar-day")&&(n=e(t.target)),0!==n.length&&(!n.hasClass("picker-calendar-day-selected")||d.params.multiple)&&!n.hasClass("picker-calendar-day-disabled")){n.hasClass("picker-calendar-day-next")&&d.nextMonth(),n.hasClass("picker-calendar-day-prev")&&d.prevMonth();var a=n.attr("data-year"),o=n.attr("data-month"),r=n.attr("data-day");d.params.onDayClick&&d.params.onDayClick(d,n[0],a,o,r),d.addValue(new Date(a,o,r).getTime()),d.params.closeOnSelect&&d.close()}}}var i,s,l,c,p,h,m,f,v,g,y,C,w,k,b,x=!0;d.container.find(".picker-calendar-prev-month").on("click",d.prevMonth),d.container.find(".picker-calendar-next-month").on("click",d.nextMonth),d.container.find(".picker-calendar-prev-year").on("click",d.prevYear),d.container.find(".picker-calendar-next-year").on("click",d.nextYear),d.wrapper.on("click",r),d.params.touchMove&&(d.wrapper.on(e.touchEvents.start,t),d.wrapper.on(e.touchEvents.move,a),d.wrapper.on(e.touchEvents.end,o)),d.container[0].f7DestroyCalendarEvents=function(){d.container.find(".picker-calendar-prev-month").off("click",d.prevMonth),d.container.find(".picker-calendar-next-month").off("click",d.nextMonth),d.container.find(".picker-calendar-prev-year").off("click",d.prevYear),d.container.find(".picker-calendar-next-year").off("click",d.nextYear),d.wrapper.off("click",r),d.params.touchMove&&(d.wrapper.off(e.touchEvents.start,t),d.wrapper.off(e.touchEvents.move,a),d.wrapper.off(e.touchEvents.end,o))}},d.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in d.container[0]&&d.container[0].f7DestroyCalendarEvents()},d.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},d.monthHTML=function(e,t){e=new Date(e);var n=e.getFullYear(),a=e.getMonth();e.getDate();"next"===t&&(e=11===a?new Date(n+1,0):new Date(n,a+1,1)),"prev"===t&&(e=0===a?new Date(n-1,11):new Date(n,a-1,1)),"next"!==t&&"prev"!==t||(a=e.getMonth(),n=e.getFullYear());var o=d.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),r=d.daysInMonth(e),i=new Date(e.getFullYear(),e.getMonth()).getDay();0===i&&(i=7);var s,l,c,p=[],u=6,h=7,m="",f=0+(d.params.firstDay-1),v=(new Date).setHours(0,0,0,0),g=d.params.minDate?new Date(d.params.minDate).getTime():null,y=d.params.maxDate?new Date(d.params.maxDate).getTime():null;if(d.value&&d.value.length)for(l=0;l<d.value.length;l++)p.push(new Date(d.value[l]).setHours(0,0,0,0));for(l=1;l<=u;l++){var C="";for(c=1;c<=h;c++){var w=c;f++;var k=f-i,b="";k<0?(k=o+k+1,b+=" picker-calendar-day-prev",s=new Date(a-1<0?n-1:n,a-1<0?11:a-1,k).getTime()):(k+=1,k>r?(k-=r,b+=" picker-calendar-day-next",s=new Date(a+1>11?n+1:n,a+1>11?0:a+1,k).getTime()):s=new Date(n,a,k).getTime()),s===v&&(b+=" picker-calendar-day-today"),p.indexOf(s)>=0&&(b+=" picker-calendar-day-selected"),d.params.weekendDays.indexOf(w-1)>=0&&(b+=" picker-calendar-day-weekend"),(g&&s<g||y&&s>y)&&(b+=" picker-calendar-day-disabled"),s=new Date(s);var x=s.getFullYear(),T=s.getMonth();C+='<div data-year="'+x+'" data-month="'+T+'" data-day="'+k+'" class="picker-calendar-day'+b+'" data-date="'+(x+"-"+T+"-"+k)+'"><span>'+k+"</span></div>"}m+='<div class="picker-calendar-row">'+C+"</div>"}return m='<div class="picker-calendar-month" data-year="'+n+'" data-month="'+a+'">'+m+"</div>"},d.animating=!1,d.updateCurrentMonthYear=function(e){"undefined"==typeof e?(d.currentMonth=parseInt(d.months.eq(1).attr("data-month"),10),d.currentYear=parseInt(d.months.eq(1).attr("data-year"),10)):(d.currentMonth=parseInt(d.months.eq("next"===e?d.months.length-1:0).attr("data-month"),10),d.currentYear=parseInt(d.months.eq("next"===e?d.months.length-1:0).attr("data-year"),10)),d.container.find(".current-month-value").text(d.params.monthNames[d.currentMonth]),d.container.find(".current-year-value").text(d.currentYear)},d.onMonthChangeStart=function(e){d.updateCurrentMonthYear(e),d.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?d.months.length-1:0;d.months.eq(t).addClass("picker-calendar-month-current"),d.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),d.params.onMonthYearChangeStart&&d.params.onMonthYearChangeStart(d,d.currentYear,d.currentMonth)},d.onMonthChangeEnd=function(e,t){d.animating=!1;var n,a,o;d.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof e&&(e="next",t=!0),t?(d.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),a=d.monthHTML(new Date(d.currentYear,d.currentMonth),"prev"),n=d.monthHTML(new Date(d.currentYear,d.currentMonth),"next")):o=d.monthHTML(new Date(d.currentYear,d.currentMonth),e),("next"===e||t)&&d.wrapper.append(o||n),("prev"===e||t)&&d.wrapper.prepend(o||a),d.months=d.wrapper.find(".picker-calendar-month"),d.setMonthsTranslate(d.monthsTranslate),d.params.onMonthAdd&&d.params.onMonthAdd(d,"next"===e?d.months.eq(d.months.length-1)[0]:d.months.eq(0)[0]),d.params.onMonthYearChangeEnd&&d.params.onMonthYearChangeEnd(d,d.currentYear,d.currentMonth)},d.setMonthsTranslate=function(e){e=e||d.monthsTranslate||0,"undefined"==typeof d.monthsTranslate&&(d.monthsTranslate=e),d.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*u,n=100*-e*u,a=100*-(e-1)*u;d.months.eq(0).transform("translate3d("+(d.isH?t:0)+"%, "+(d.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),d.months.eq(1).transform("translate3d("+(d.isH?n:0)+"%, "+(d.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),d.months.eq(2).transform("translate3d("+(d.isH?a:0)+"%, "+(d.isH?0:a)+"%, 0)").addClass("picker-calendar-month-next")},d.nextMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",d.params.animate||(t=0));var n=parseInt(d.months.eq(d.months.length-1).attr("data-month"),10),a=parseInt(d.months.eq(d.months.length-1).attr("data-year"),10),o=new Date(a,n),r=o.getTime(),i=!d.animating;if(d.params.maxDate&&r>new Date(d.params.maxDate).getTime())return d.resetMonth();if(d.monthsTranslate--,n===d.currentMonth){var s=100*-d.monthsTranslate*u,l=e(d.monthHTML(r,"next")).transform("translate3d("+(d.isH?s:0)+"%, "+(d.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next");d.wrapper.append(l[0]),d.months=d.wrapper.find(".picker-calendar-month"),d.params.onMonthAdd&&d.params.onMonthAdd(d,d.months.eq(d.months.length-1)[0])}d.animating=!0,d.onMonthChangeStart("next");var c=100*d.monthsTranslate*u;d.wrapper.transition(t).transform("translate3d("+(d.isH?c:0)+"%, "+(d.isH?0:c)+"%, 0)"),i&&d.wrapper.transitionEnd(function(){d.onMonthChangeEnd("next")}),d.params.animate||d.onMonthChangeEnd("next")},d.prevMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",d.params.animate||(t=0));var n=parseInt(d.months.eq(0).attr("data-month"),10),a=parseInt(d.months.eq(0).attr("data-year"),10),o=new Date(a,n+1,(-1)),r=o.getTime(),i=!d.animating;if(d.params.minDate&&r<new Date(d.params.minDate).getTime())return d.resetMonth();if(d.monthsTranslate++,n===d.currentMonth){var s=100*-d.monthsTranslate*u,l=e(d.monthHTML(r,"prev")).transform("translate3d("+(d.isH?s:0)+"%, "+(d.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev");d.wrapper.prepend(l[0]),d.months=d.wrapper.find(".picker-calendar-month"),d.params.onMonthAdd&&d.params.onMonthAdd(d,d.months.eq(0)[0])}d.animating=!0,d.onMonthChangeStart("prev");var c=100*d.monthsTranslate*u;d.wrapper.transition(t).transform("translate3d("+(d.isH?c:0)+"%, "+(d.isH?0:c)+"%, 0)"),i&&d.wrapper.transitionEnd(function(){d.onMonthChangeEnd("prev")}),d.params.animate||d.onMonthChangeEnd("prev")},d.resetMonth=function(e){"undefined"==typeof e&&(e="");var t=100*d.monthsTranslate*u;d.wrapper.transition(e).transform("translate3d("+(d.isH?t:0)+"%, "+(d.isH?0:t)+"%, 0)")},d.setYearMonth=function(e,t,n){"undefined"==typeof e&&(e=d.currentYear),"undefined"==typeof t&&(t=d.currentMonth),"undefined"!=typeof n&&"object"!=typeof n||(n="",d.params.animate||(n=0));var a;if(a=e<d.currentYear?new Date(e,t+1,(-1)).getTime():new Date(e,t).getTime(),d.params.maxDate&&a>new Date(d.params.maxDate).getTime())return!1;if(d.params.minDate&&a<new Date(d.params.minDate).getTime())return!1;var o=new Date(d.currentYear,d.currentMonth).getTime(),r=a>o?"next":"prev",i=d.monthHTML(new Date(e,t));d.monthsTranslate=d.monthsTranslate||0;var s,l,c=d.monthsTranslate,p=!d.animating;a>o?(d.monthsTranslate--,d.animating||d.months.eq(d.months.length-1).remove(),d.wrapper.append(i),d.months=d.wrapper.find(".picker-calendar-month"),s=100*-(c-1)*u,d.months.eq(d.months.length-1).transform("translate3d("+(d.isH?s:0)+"%, "+(d.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next")):(d.monthsTranslate++,d.animating||d.months.eq(0).remove(),d.wrapper.prepend(i),d.months=d.wrapper.find(".picker-calendar-month"),s=100*-(c+1)*u,d.months.eq(0).transform("translate3d("+(d.isH?s:0)+"%, "+(d.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev")),d.params.onMonthAdd&&d.params.onMonthAdd(d,"next"===r?d.months.eq(d.months.length-1)[0]:d.months.eq(0)[0]),d.animating=!0,d.onMonthChangeStart(r),l=100*d.monthsTranslate*u,d.wrapper.transition(n).transform("translate3d("+(d.isH?l:0)+"%, "+(d.isH?0:l)+"%, 0)"),p&&d.wrapper.transitionEnd(function(){d.onMonthChangeEnd(r,!0)}),d.params.animate||d.onMonthChangeEnd(r)},d.nextYear=function(){d.setYearMonth(d.currentYear+1)},d.prevYear=function(){d.setYearMonth(d.currentYear-1)},d.layout=function(){var e,t="",n="",a=d.value&&d.value.length?d.value[0]:(new Date).setHours(0,0,0,0),o=d.monthHTML(a,"prev"),r=d.monthHTML(a),i=d.monthHTML(a,"next"),s='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(o+r+i)+"</div></div>",l="";if(d.params.weekHeader){for(e=0;e<7;e++){var c=e+d.params.firstDay>6?e-7+d.params.firstDay:e+d.params.firstDay,p=d.params.dayNamesShort[c];l+='<div class="picker-calendar-week-day '+(d.params.weekendDays.indexOf(c)>=0?"picker-calendar-week-day-weekend":"")+'"> '+p+"</div>"}l='<div class="picker-calendar-week-days">'+l+"</div>"}n="picker-modal picker-calendar "+(d.params.cssClass||"");var u=d.params.toolbar?d.params.toolbarTemplate.replace(/{{closeText}}/g,d.params.toolbarCloseText):"";d.params.toolbar&&(u=d.params.toolbarTemplate.replace(/{{closeText}}/g,d.params.toolbarCloseText).replace(/{{monthPicker}}/g,d.params.monthPicker?d.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,d.params.yearPicker?d.params.yearPickerTemplate:"")),t='<div class="'+n+'">'+u+'<div class="picker-modal-inner">'+l+s+"</div></div>",d.pickerHTML=t},d.params.input&&(d.input=e(d.params.input),d.input.length>0&&(d.params.inputReadOnly&&d.input.prop("readOnly",!0),d.inline||d.input.on("click",function(e){s(e),d.params.inputReadOnly&&(this.focus(),this.blur())}),d.params.inputReadOnly&&d.input.on("focus mousedown",function(e){e.preventDefault()}))),d.inline||e("html").on("click",l),d.opened=!1,d.open=function(){var t=o(),n=!1;d.opened||(d.value||d.params.value&&(d.value=d.params.value,n=!0),d.layout(),t?(d.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+d.pickerHTML+"</div></div>",d.popover=e.popover(d.pickerHTML,d.params.input,!0),d.container=e(d.popover).find(".picker-modal"),e(d.popover).on("close",function(){c()})):d.inline?(d.container=e(d.pickerHTML),d.container.addClass("picker-modal-inline"),e(d.params.container).append(d.container)):(d.container=e(e.pickerModal(d.pickerHTML)),e(d.container).on("close",function(){c()})),d.container[0].f7Calendar=d,d.wrapper=d.container.find(".picker-calendar-months-wrapper"),d.months=d.wrapper.find(".picker-calendar-month"),d.updateCurrentMonthYear(),d.monthsTranslate=0,d.setMonthsTranslate(),d.initCalendarEvents(),n&&d.updateValue()),d.opened=!0,d.initialized=!0,d.params.onMonthAdd&&d.months.each(function(){d.params.onMonthAdd(d,this)}),d.params.onOpen&&d.params.onOpen(d)},d.close=function(){if(d.opened&&!d.inline)return r()?void e.closeModal(d.popover):void e.closeModal(d.container)},d.destroy=function(){d.close(),d.params.input&&d.input.length>0&&d.input.off("click focus",s),e("html").off("click",l)},d.inline&&d.open(),d};e.fn.calendar=function(t){return this.each(function(){var n=e(this);if(n[0]){var o=n.data("calendar");if(!o){var r={};"INPUT"===n[0].tagName.toUpperCase()?r.input=n:r.container=n,n.data("calendar",new a(e.extend(r,t)))}}})},t=e.fn.calendar.prototype.defaults={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>'},e.initCalendar=function(t){var n=e(t?t:document.body);n.find("[data-toggle='date']").each(function(){e(this).calendar()})}}($),+function(e){"use strict";var t=function(t){function n(){var t=!1;return l.params.convertToPopover||l.params.onlyInPopover?(!l.inline&&l.params.input&&(l.params.onlyInPopover?t=!0:e.device.ios?t=!!e.device.ipad:e(window).width()>=768&&(t=!0)),t):t}function a(){return!!(l.opened&&l.container&&l.container.length>0&&l.container.parents(".popover").length>0)}function o(){if(l.opened)for(var e=0;e<l.cols.length;e++)l.cols[e].divider||(l.cols[e].calcSize(),l.cols[e].setValue(l.cols[e].value,0,!1))}function r(e){if(e.preventDefault(),!l.opened&&(l.open(),l.params.scrollToInput&&!n())){var t=l.input.parents(".content");if(0===t.length)return;var a,o=parseInt(t.css("padding-top"),10),r=parseInt(t.css("padding-bottom"),10),i=t[0].offsetHeight-o-l.container.height(),s=t[0].scrollHeight-o-l.container.height(),c=l.input.offset().top-o+l.input[0].offsetHeight;if(c>i){var d=t.scrollTop()+c-i;d+i>s&&(a=d+i-s+r,i===s&&(a=l.container.height()),t.css({"padding-bottom":a+"px"})),t.scrollTop(d,300)}}}function i(t){a()||(l.input&&l.input.length>0?t.target!==l.input[0]&&0===e(t.target).parents(".picker-modal").length&&l.close():0===e(t.target).parents(".picker-modal").length&&l.close())}function s(){l.opened=!1,l.input&&l.input.length>0&&l.input.parents(".page-content").css({"padding-bottom":""}),l.params.onClose&&l.params.onClose(l),l.container.find(".picker-items-col").each(function(){l.destroyPickerCol(this)})}var l=this,c={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"OK",toolbarTemplate:'<header class="bar bar-nav">          <button class="button button-link pull-right close-picker">OK</button>          <h1 class="title"></h1>          </header>'};t=t||{};for(var d in c)"undefined"==typeof t[d]&&(t[d]=c[d]);l.params=t,l.cols=[],l.initialized=!1,l.inline=!!l.params.container;var p=e.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!e.device.android;return l.setValue=function(e,t){for(var n=0,a=0;a<l.cols.length;a++)l.cols[a]&&!l.cols[a].divider&&(l.cols[a].setValue(e[n],t),n++)},l.updateValue=function(){for(var t=[],n=[],a=0;a<l.cols.length;a++)l.cols[a].divider||(t.push(l.cols[a].value),n.push(l.cols[a].displayValue));t.indexOf(void 0)>=0||(l.value=t,l.displayValue=n,l.params.onChange&&l.params.onChange(l,l.value,l.displayValue),l.input&&l.input.length>0&&(e(l.input).val(l.params.formatValue?l.params.formatValue(l,l.value,l.displayValue):l.value.join(" ")),e(l.input).trigger("change")))},l.initPickerCol=function(t,n){function a(){y=e.requestAnimationFrame(function(){u.updateItems(void 0,void 0,0),a()})}function o(t){if(!w&&!C){t.preventDefault(),C=!0;var n=e.getTouchPosition(t);k=b=n.y,x=(new Date).getTime(),I=!0,M=E=e.getTranslate(u.wrapper[0],"y")}}function r(t){if(C){t.preventDefault(),I=!1;var n=e.getTouchPosition(t);b=n.y,w||(e.cancelAnimationFrame(y),w=!0,M=E=e.getTranslate(u.wrapper[0],"y"),u.wrapper.transition(0)),t.preventDefault();var a=b-k;E=M+a,S=void 0,E<v&&(E=v-Math.pow(v-E,.8),S="min"),E>g&&(E=g+Math.pow(E-g,.8),S="max"),u.wrapper.transform("translate3d(0,"+E+"px,0)"),u.updateItems(void 0,E,0,l.params.updateValuesOnTouchmove),D=E-P||E,O=(new Date).getTime(),P=E}}function i(t){if(!C||!w)return void(C=w=!1);C=w=!1,u.wrapper.transition(""),S&&("min"===S?u.wrapper.transform("translate3d(0,"+v+"px,0)"):u.wrapper.transform("translate3d(0,"+g+"px,0)")),T=(new Date).getTime();var n,o;T-x>300?o=E:(n=Math.abs(D/(T-O)),o=E+D*l.params.momentumRatio),o=Math.max(Math.min(o,g),v);var r=-Math.floor((o-g)/m);l.params.freeMode||(o=-r*m+g),u.wrapper.transform("translate3d(0,"+parseInt(o,10)+"px,0)"),u.updateItems(r,o,"",!0),l.params.updateValuesOnMomentum&&(a(),u.wrapper.transitionEnd(function(){e.cancelAnimationFrame(y)})),setTimeout(function(){I=!0},100)}function s(t){if(I){e.cancelAnimationFrame(y);var n=e(this).attr("data-picker-value");u.setValue(n)}}var c=e(t),d=c.index(),u=l.cols[d];if(!u.divider){u.container=c,u.wrapper=u.container.find(".picker-items-col-wrapper"),u.items=u.wrapper.find(".picker-item");var h,m,f,v,g;u.replaceValues=function(e,t){u.destroyEvents(),u.values=e,u.displayValues=t;var n=l.columnHTML(u,!0);u.wrapper.html(n),u.items=u.wrapper.find(".picker-item"),u.calcSize(),u.setValue(u.values[0],0,!0),u.initEvents()},u.calcSize=function(){l.params.rotateEffect&&(u.container.removeClass("picker-items-col-absolute"),u.width||u.container.css({width:""}));var t,n;t=0,n=u.container[0].offsetHeight,h=u.wrapper[0].offsetHeight,m=u.items[0].offsetHeight,f=m*u.items.length,v=n/2-f+m/2,g=n/2-m/2,u.width&&(t=u.width,parseInt(t,10)===t&&(t+="px"),u.container.css({width:t})),l.params.rotateEffect&&(u.width||(u.items.each(function(){var n=e(this);n.css({width:"auto"}),t=Math.max(t,n[0].offsetWidth),n.css({width:""})}),u.container.css({width:t+2+"px"})),u.container.addClass("picker-items-col-absolute"))},u.calcSize(),u.wrapper.transform("translate3d(0,"+g+"px,0)").transition(0);var y;u.setValue=function(t,n,o){"undefined"==typeof n&&(n="");var r=u.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if("undefined"!=typeof r&&r!==-1){var i=-r*m+g;u.wrapper.transition(n),u.wrapper.transform("translate3d(0,"+i+"px,0)"),l.params.updateValuesOnMomentum&&u.activeIndex&&u.activeIndex!==r&&(e.cancelAnimationFrame(y),u.wrapper.transitionEnd(function(){e.cancelAnimationFrame(y)}),a()),u.updateItems(r,i,n,o)}},u.updateItems=function(t,n,a,o){"undefined"==typeof n&&(n=e.getTranslate(u.wrapper[0],"y")),"undefined"==typeof t&&(t=-Math.round((n-g)/m)),t<0&&(t=0),t>=u.items.length&&(t=u.items.length-1);var r=u.activeIndex;u.activeIndex=t,u.wrapper.find(".picker-selected").removeClass("picker-selected"),l.params.rotateEffect&&u.items.transition(a);var i=u.items.eq(t).addClass("picker-selected").transform("");if((o||"undefined"==typeof o)&&(u.value=i.attr("data-picker-value"),u.displayValue=u.displayValues?u.displayValues[t]:u.value,r!==t&&(u.onChange&&u.onChange(l,u.value,u.displayValue),l.updateValue())),l.params.rotateEffect){(n-(Math.floor((n-g)/m)*m+g))/m;u.items.each(function(){var t=e(this),a=t.index()*m,o=g-n,r=a-o,i=r/m,s=Math.ceil(u.height/m/2)+1,l=-18*i;l>180&&(l=180),l<-180&&(l=-180),Math.abs(i)>s?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-n+g)+"px, "+(p?-110:0)+"px) rotateX("+l+"deg)")})}},n&&u.updateItems(0,g,0);var C,w,k,b,x,T,M,S,E,P,D,O,I=!0;u.initEvents=function(t){var n=t?"off":"on";u.container[n](e.touchEvents.start,o),u.container[n](e.touchEvents.move,r),u.container[n](e.touchEvents.end,i),u.items[n]("click",s)},u.destroyEvents=function(){u.initEvents(!0)},u.container[0].f7DestroyPickerCol=function(){u.destroyEvents()},u.initEvents()}},l.destroyPickerCol=function(t){t=e(t),"f7DestroyPickerCol"in t[0]&&t[0].f7DestroyPickerCol()},e(window).on("resize",o),l.columnHTML=function(e,t){var n="",a="";if(e.divider)a+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var o=0;o<e.values.length;o++)n+='<div class="picker-item" data-picker-value="'+e.values[o]+'">'+(e.displayValues?e.displayValues[o]:e.values[o])+"</div>";a+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return t?n:a},l.layout=function(){var e,t="",n="";l.cols=[];var a="";for(e=0;e<l.params.cols.length;e++){var o=l.params.cols[e];a+=l.columnHTML(l.params.cols[e]),l.cols.push(o)}n="picker-modal picker-columns "+(l.params.cssClass||"")+(l.params.rotateEffect?" picker-3d":""),t='<div class="'+n+'">'+(l.params.toolbar?l.params.toolbarTemplate.replace(/{{closeText}}/g,l.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+a+'<div class="picker-center-highlight"></div></div></div>',l.pickerHTML=t},l.params.input&&(l.input=e(l.params.input),l.input.length>0&&(l.params.inputReadOnly&&l.input.prop("readOnly",!0),l.inline||l.input.on("click",function(e){r(e),l.params.inputReadOnly&&(this.focus(),this.blur())}),l.params.inputReadOnly&&l.input.on("focus mousedown",function(e){e.preventDefault()}))),l.inline||e("html").on("click",i),l.opened=!1,l.open=function(){var t=n();l.opened||(l.layout(),t?(l.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+l.pickerHTML+"</div></div>",l.popover=e.popover(l.pickerHTML,l.params.input,!0),l.container=e(l.popover).find(".picker-modal"),e(l.popover).on("close",function(){s()})):l.inline?(l.container=e(l.pickerHTML),l.container.addClass("picker-modal-inline"),e(l.params.container).append(l.container)):(l.container=e(e.pickerModal(l.pickerHTML)),e(l.container).on("close",function(){s()})),l.container[0].f7Picker=l,l.container.find(".picker-items-col").each(function(){var e=!0;(!l.initialized&&l.params.value||l.initialized&&l.value)&&(e=!1),l.initPickerCol(this,e)}),l.initialized?l.value&&l.setValue(l.value,0):l.params.value&&l.setValue(l.params.value,0)),l.opened=!0,l.initialized=!0,l.params.onOpen&&l.params.onOpen(l)},l.close=function(){if(l.opened&&!l.inline)return a()?void e.closeModal(l.popover):void e.closeModal(l.container)},l.destroy=function(){l.close(),l.params.input&&l.input.length>0&&l.input.off("click focus",r),e("html").off("click",i),e(window).off("resize",o)},l.inline&&l.open(),l};e(document).on("click",".close-picker",function(){var t=e(".picker-modal.modal-in");t.length>0?e.closeModal(t):(t=e(".popover.modal-in .picker-modal"),t.length>0&&e.closeModal(t.parents(".popover")))}),e(document).on(e.touchEvents.move,".picker-modal-inner",function(e){e.preventDefault()}),e.fn.picker=function(n){var a=arguments;return this.each(function(){if(this){var o=e(this),r=o.data("picker");if(!r){n=n||{};var i=o.val();void 0===n.value&&""!==i&&(n.value=n.cols.length>1?i.split(" "):[i]);var s=e.extend({input:this},n);r=new t(s),o.data("picker",r)}"string"==typeof n&&r[n].apply(r,Array.prototype.slice.call(a,1))}})}}($),+function(e){"use strict";e.fn.datetimePicker=function(t){return this.each(function(){if(this){var n=new Date,a=function(e){for(var t=[],n=1;n<=(e||31);n++)t.push(n<10?"0"+n:n);return t},o=function(e,t){var n=new Date(t,parseInt(e)+1-1,1),o=new Date(n-1);return a(o.getDate())},r=function(e){return e<10?"0"+e:e},i="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),s=function(){for(var e=[],t=1950;t<=2030;t++)e.push(t);return e}(),l={rotateEffect:!1,value:[n.getFullYear(),r(n.getMonth()+1),n.getDate(),r(n.getHours()),r(n.getMinutes())],onChange:function(e,t,n){var a=o(e.cols[1].value,e.cols[0].value),r=e.cols[2].value;r>a.length&&(r=a.length),e.cols[2].setValue(r)},formatValue:function(e,t,n){return n[0]+"-"+t[1]+"-"+t[2]+" "+t[3]+":"+t[4]},cols:[{values:s},{values:i},{values:a()},{divider:!0,content:"  "},{values:function(){for(var e=[],t=0;t<=23;t++)e.push(r(t));return e}()},{divider:!0,content:":"},{values:function(){for(var e=[],t=0;t<=59;t++)e.push(r(t));return e}()}]};t=t||{};var c=e(this).val();void 0===t.value&&""!==c&&(t.value=[].concat(c.split(" ")[0].split("-"),c.split(" ")[1].split(":")));
var d=e.extend(l,t);e(this).picker(d)}})}}($),+function(e){"use strict";e.initPullToRefresh=function(t){function n(t){if(s){if(!e.os.android)return;if("targetTouches"in t&&t.targetTouches.length>1)return}l=!1,s=!0,c=void 0,f=void 0;var n=e.getTouchPosition(t);y.x=n.x,y.y=n.y,p=(new Date).getTime(),u=e(this)}function a(t){if(s){var n=e.getTouchPosition(t),a=n.x,o=n.y;if("undefined"==typeof c&&(c=!!(c||Math.abs(o-y.y)>Math.abs(a-y.x))),!c)return void(s=!1);if(m=u[0].scrollTop,"undefined"==typeof f&&0!==m&&(f=!0),!l){if(u.removeClass("transitioning"),m>u[0].offsetHeight)return void(s=!1);g&&(v=u.attr("data-ptr-distance"),v.indexOf("%")>=0&&(v=u[0].offsetHeight*parseInt(v,10)/100)),k=u.hasClass("refreshing")?v:0,w=u[0].scrollHeight===u[0].offsetHeight||!e.os.ios,w=!0}return l=!0,d=o-y.y,d>0&&m<=0||m<0?(e.os.ios&&parseInt(e.os.version.split(".")[0],10)>7&&0===m&&!f&&(w=!0),w&&(t.preventDefault(),h=Math.pow(d,.85)+k,u.transform("translate3d(0,"+h+"px,0)")),w&&Math.pow(d,.85)>v||!w&&d>=2*v?(C=!0,u.addClass("pull-up").removeClass("pull-down")):(C=!1,u.removeClass("pull-up").addClass("pull-down")),void 0):(u.removeClass("pull-up pull-down"),void(C=!1))}}function o(){return s&&l?(h&&(u.addClass("transitioning"),h=0),u.transform(""),C?(u.addClass("refreshing"),u.trigger("refresh",{done:function(){e.pullToRefreshDone(u)}})):u.removeClass("pull-down"),s=!1,void(l=!1)):(s=!1,void(l=!1))}function r(){i.off(e.touchEvents.start,n),i.off(e.touchEvents.move,a),i.off(e.touchEvents.end,o)}var i=e(t);if(i.hasClass("pull-to-refresh-content")||(i=i.find(".pull-to-refresh-content")),i&&0!==i.length){var s,l,c,d,p,u,h,m,f,v,g,y={},C=!1,w=!1,k=0;u=i,u.attr("data-ptr-distance")?g=!0:v=44,i.on(e.touchEvents.start,n),i.on(e.touchEvents.move,a),i.on(e.touchEvents.end,o),i[0].destroyPullToRefresh=r}},e.pullToRefreshDone=function(t){t=e(t),0===t.length&&(t=e(".pull-to-refresh-content.refreshing")),t.removeClass("refreshing").addClass("transitioning"),t.transitionEnd(function(){t.removeClass("transitioning pull-up pull-down")})},e.pullToRefreshTrigger=function(t){t=e(t),0===t.length&&(t=e(".pull-to-refresh-content")),t.hasClass("refreshing")||(t.addClass("transitioning refreshing"),t.trigger("refresh",{done:function(){e.pullToRefreshDone(t)}}))},e.destroyPullToRefresh=function(t){t=e(t);var n=t.hasClass("pull-to-refresh-content")?t:t.find(".pull-to-refresh-content");0!==n.length&&n[0].destroyPullToRefresh&&n[0].destroyPullToRefresh()}}($),+function(e){"use strict";function t(){var t,n=e(this),a=n.scrollTop(),o=n.scrollHeight(),r=n[0].offsetHeight,i=n[0].getAttribute("data-distance"),s=n.find(".virtual-list"),l=n.hasClass("infinite-scroll-top");if(i||(i=50),"string"==typeof i&&i.indexOf("%")>=0&&(i=parseInt(i,10)/100*r),i>r&&(i=r),l)a<i&&n.trigger("infinite");else if(a+r>=o-i){if(s.length>0&&(t=s[0].f7VirtualList,t&&!t.reachEnd))return;n.trigger("infinite")}}e.attachInfiniteScroll=function(n){e(n).on("scroll",t)},e.detachInfiniteScroll=function(n){e(n).off("scroll",t)},e.initInfiniteScroll=function(t){function n(){e.detachInfiniteScroll(a),t.off("pageBeforeRemove",n)}t=e(t);var a=t.hasClass("infinite-scroll")?t:t.find(".infinite-scroll");0!==a.length&&(e.attachInfiniteScroll(a),t.on("pageBeforeRemove",n))}}($),+function(e){"use strict";var t,n,a,o,r,i,s=function(n){var a=e.getTouchPosition(n);o=a,r=i=0,t.addClass("touching")},l=function(n){if(!o)return!1;n.preventDefault(),n.stopPropagation();var a=e.getTouchPosition(n);r=a.x-o.x,i=a.y-o.y,i>0&&(i=Math.sqrt(i)),t.css("transform","translate3d(0, "+i+"px, 0)")},c=function(){t.removeClass("touching"),t.attr("style",""),i<0&&Math.abs(i)>.38*t.height()&&e.closeNotification(),Math.abs(r)<=1&&Math.abs(i)<=1&&t.trigger("noti-click"),o=!1},d=function(t){t.on(e.touchEvents.start,s),t.on(e.touchEvents.move,l),t.on(e.touchEvents.end,c)};e.notification=e.noti=function(o){o=e.extend({},n,o),t=e(".notification"),t[0]||(t=e('<div class="notification"></div>').appendTo(document.body),d(t)),t.off("noti-click"),o.onClick&&t.on("noti-click",function(){o.onClick(o.data)}),t.html(e.t7.compile(o.tpl)(o)),t.show(),t.addClass("notification-in"),t.data("params",o);var r=function(){a&&(clearTimeout(a),a=null),a=setTimeout(function(){t.hasClass("touching")?r():e.closeNotification()},o.time)};r()},e.closeNotification=function(){a&&clearTimeout(a),a=null;var t=e(".notification").removeClass("notification-in").transitionEnd(function(){e(this).remove()});if(t[0]){var n=e(".notification").data("params");n&&n.onClose&&n.onClose(n.data)}},n=e.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="notification-inner">{{#if media}}<div class="notification-media">{{media}}</div>{{/if}}<div class="notification-content">{{#if title}}<div class="notification-title">{{title}}</div>{{/if}}{{#if text}}<div class="notification-text">{{text}}</div>{{/if}}</div><div class="notification-handle-bar"></div></div>'}}($),+function(e){"use strict";var t=function(t){this.params=t,this.tpl=e.t7(this.params.indexListTemplate).compile()};t.prototype.render=function(t){this.list=e(t||".list"),this.draw()},t.prototype.draw=function(){this.indexList&&this.indexList.remove(),this.titles=this.list.find(this.params.titleSelector);var t=this.titles.map(function(t,n){return e(n).data("index")||e(n).text()}).toArray();this.indexList=e("<ul class='index-list-bar'></ul>").appendTo(this.list.parents(".page")),this.indexList.html(this.tpl({indexes:t})),this.indexList.on(e.touchEvents.start,e.proxy(this.touchStart,this)),this.indexList.on(e.touchEvents.start+" "+e.touchEvents.move,e.proxy(this.touchMove,this)),this.indexList.on(e.touchEvents.end,e.proxy(this.touchEnd,this)),this.content=this.list.parents(".content")},t.prototype.touchStart=function(){this.pageOffsetTop=this.content.offset().top,this.touching=!0},t.prototype.touchMove=function(t){if(this.touching){t.preventDefault();var n=this.getElementOnTouch(e.getTouchPosition(t));if(n){var a=this.titles.eq(n.data("index")),o=a.parent().offset().top,r=o-this.pageOffsetTop+this.content.scrollTop();this.content.scrollTop(r)}}},t.prototype.touchEnd=function(){this.touching=!1},t.prototype.getElementOnTouch=function(t){var n=null;return this.indexList.find("li").each(function(){if(!n){var a=e(this),o=a.offset();o.top<t.y&&o.top+a.outerHeight()>t.y&&(n=a)}}),n},e.fn.indexList=function(n){return this.each(function(){if(this){var a=e(this),o=a.data("index");return o||(n=e.extend({},e.fn.indexList.prototype.defaults,n),o=new t(n).render(a),a.data("index",o)),o}})},e.fn.indexList.prototype.defaults={titleSelector:".list-group-title",indexListTemplate:"{{#indexes}}<li data-index={{@index}}><strong>{{this}}</strong></li>{{/indexes}}"},e.initIndexList=function(t){var n=e(t);n.hasClass(".contacts-block")?n.indexList():n.find(".contacts-block").indexList()}}($),+function(e){"use strict";e(function(){e(document).on("focus",".searchbar input",function(t){var n=e(t.target);n.parents(".searchbar").addClass("searchbar-active")}),e(document).on("click",".searchbar-cancel",function(t){var n=e(t.target);n.parents(".searchbar").removeClass("searchbar-active")}),e(document).on("blur",".searchbar input",function(t){var n=e(t.target);n.parents(".searchbar").removeClass("searchbar-active")})})}($),+function(e){"use strict";e.allowPanelOpen=!0,e.openPanel=function(t){function n(){r.transitionEnd(function(a){a.target===r[0]?(t.hasClass("active")?t.trigger("opened"):t.trigger("closed"),e.allowPanelOpen=!0):n()})}if(!e.allowPanelOpen)return!1;"left"!==t&&"right"!==t||(t=".panel-"+t),t=t?e(t):e(".panel").eq(0);var a=t.hasClass("panel-right")?"right":"left";if(0===t.length||t.hasClass("active"))return!1;e.closePanel(),e.allowPanelOpen=!1;var o=t.hasClass("panel-reveal")?"reveal":"cover";t.css({display:"block"}).addClass("active"),t.trigger("open");var r=(t[0].clientLeft,"reveal"===o?e(e.getCurrentPage()):t);return n(),e(document.body).addClass("with-panel-"+a+"-"+o),!0},e.closePanel=function(){var t=e(".panel.active");if(0===t.length)return!1;var n=t.hasClass("panel-reveal")?"reveal":"cover",a=t.hasClass("panel-left")?"left":"right";t.removeClass("active");var o="reveal"===n?e(".page"):t;t.trigger("close"),e.allowPanelOpen=!1,o.transitionEnd(function(){t.hasClass("active")||(t.css({display:""}),t.trigger("closed"),e("body").removeClass("panel-closing"),e.allowPanelOpen=!0)}),e("body").addClass("panel-closing").removeClass("with-panel-"+a+"-"+n)},e(document).on("click",".open-panel",function(t){var n=e(t.target).data(n);e.openPanel(n)}),e(document).on("click",".close-panel, .panel-overlay",function(t){e.closePanel()}),e.initSwipePanels=function(){function t(t){if(T=e(e.getCurrentPage()),e.allowPanelOpen&&(i||s)&&!u&&!(e(".modal-in, .photo-browser-in").length>0)&&(l||s||!(e(".panel.active").length>0)||o.hasClass("active"))){var n=e.getTouchPosition(t);if(x.x=n.x,x.y=n.y,l||s){if(e(".panel.active").length>0)r=e(".panel.active").hasClass("panel-left")?"left":"right";else{if(s)return;r=i}if(!r)return}if(o=e(".panel.panel-"+r),o[0]){if(y=o.hasClass("active"),c&&!y){if("left"===r&&x.x>c)return;if("right"===r&&x.x<window.innerWidth-c)return}h=!1,u=!0,m=void 0,f=(new Date).getTime(),k=void 0}}}function n(t){if(u&&o[0]&&!t.f7PreventPanelSwipe){var n=e.getTouchPosition(t),a=n.x,i=n.y;if("undefined"==typeof m&&(m=!!(m||Math.abs(i-x.y)>Math.abs(a-x.x))),m)return void(u=!1);if(!k&&(k=a>x.x?"to-right":"to-left","left"===r&&"to-left"===k&&!o.hasClass("active")||"right"===r&&"to-right"===k&&!o.hasClass("active")))return void(u=!1);if(p){var s=(new Date).getTime()-f;return s<300&&("to-left"===k&&("right"===r&&e.openPanel(r),"left"===r&&o.hasClass("active")&&e.closePanel()),"to-right"===k&&("left"===r&&e.openPanel(r),"right"===r&&o.hasClass("active")&&e.closePanel())),u=!1,void(h=!1)}h||(w=o.hasClass("panel-cover")?"cover":"reveal",y||(o.show(),b.show()),C=o[0].offsetWidth,o.transition(0)),h=!0,t.preventDefault();var l=y?0:-d;"right"===r&&(l=-l),v=a-x.x+l,"right"===r?(g=v-(y?C:0),g>0&&(g=0),g<-C&&(g=-C)):(g=v+(y?C:0),g<0&&(g=0),g>C&&(g=C)),"reveal"===w?(T.transform("translate3d("+g+"px,0,0)").transition(0),b.transform("translate3d("+g+"px,0,0)")):o.transform("translate3d("+g+"px,0,0)").transition(0)}}function a(t){if(!u||!h)return u=!1,void(h=!1);u=!1,h=!1;var n,a=(new Date).getTime()-f,i=0===g||Math.abs(g)===C;if(n=y?g===-C?"reset":a<300&&Math.abs(g)>=0||a>=300&&Math.abs(g)<=C/2?"left"===r&&g===C?"reset":"swap":"reset":0===g?"reset":a<300&&Math.abs(g)>0||a>=300&&Math.abs(g)>=C/2?"swap":"reset","swap"===n&&(e.allowPanelOpen=!0,y?(e.closePanel(),i&&(o.css({display:""}),e("body").removeClass("panel-closing"))):e.openPanel(r),i&&(e.allowPanelOpen=!0)),"reset"===n)if(y)e.allowPanelOpen=!0,e.openPanel(r);else if(e.closePanel(),i)e.allowPanelOpen=!0,o.css({display:""});else{var s="reveal"===w?T:o;e("body").addClass("panel-closing"),s.transitionEnd(function(){e.allowPanelOpen=!0,o.css({display:""}),e("body").removeClass("panel-closing")})}"reveal"===w&&(T.transition(""),T.transform("")),o.transition("").transform(""),b.css({display:""}).transform("")}var o,r,i=e.smConfig.swipePanel,s=e.smConfig.swipePanelOnlyClose,l=!0,c=!1,d=2,p=!1;if(i||s){var u,h,m,f,v,g,y,C,w,k,b=e(".panel-overlay"),x={},T=e(e.getCurrentPage());e(document).on(e.touchEvents.start,t),e(document).on(e.touchEvents.move,n),e(document).on(e.touchEvents.end,a)}},e.initSwipePanels()}($),+function(e){"use strict";window.CustomEvent||(window.CustomEvent=function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail,t.id),n});var t=function(){this.state=sessionStorage,this.state.setItem("stateid",parseInt(this.state.getItem("stateid")||1)+1),this.state.setItem("currentStateID",this.state.getItem("stateid")),this.stack=sessionStorage,this.stack.setItem("back","[]"),this.stack.setItem("forward","[]"),this.extras={},this.init(),this.xhr=null};t.prototype.defaults={transition:!0},t.prototype.init=function(){var t=this.getCurrentPage();t[0]||(t=e(".page").eq(0).addClass("page-current"));var n=location.hash;if(t[0]&&!t[0].id&&(t[0].id=n?n.slice(1):this.genRandomID()),!t[0])throw new Error("can't find .page element");this.initPage(t[0]);var a=e(n);!a[0]||t[0]&&n.slice(1)===t[0].id||(t.removeClass("page-current"),a.addClass("page-current"),t=a);var o=history.state;if(!o){var r=this.genStateID();this.replaceState(location.href,r),this.setCurrentStateID(r)}window.addEventListener("popstate",e.proxy(this.onpopstate,this))},t.prototype.initPage=function(t){var n=e(t);if(n.data("ctrl")){var a=Gmall.pages[n.data("ctrl")];a&&a.init&&a.init(n,CFG)}},t.prototype.loadPage=function(e,t,n,a){var o=e;void 0===t&&(t=!this.defaults.transition),"string"==typeof e&&(o={url:e,noAnimation:t,replace:n,reload:a}),this.currentPageParam=o,this.getPage(e,this.handlePageResult)},t.prototype.replacePage=function(e,t){return this.loadPage(e,t,!0)},t.prototype.reloadPage=function(){return this.loadPage(location.href,!0,!1,!0)},t.prototype.removePage=function(t){var n=this;e(t).each(function(){var t=e(this);if(t.data("page-remote")){var a=n.extras[t[0].id];a&&a.remove(),n.extras[t[0].id]=void 0,t.remove()}})},t.prototype.handlePageResult=function(t,n){var a=this.currentPageParam.url,o=this.currentPageParam.noAnimation,r=this.currentPageParam.replace,i=this.currentPageParam.reload,s=this.getCurrentPage(),l=s[0].id,c="pushBack";r&&(c="replaceBack"),i&&(c="reloadBack"),this[c]({url:location.href,pageid:"#"+l,id:this.getCurrentStateID(),animation:!o});for(var d=JSON.parse(this.state.getItem("forward")||"[]"),p=0;p<d.length;p++)this.removePage(d[p].pageid);this.state.setItem("forward","[]");var u=e("#"+e(t)[0].id);t.insertBefore(e(".page")[0]),u[0]!==t[0]&&u.remove(),n&&(this.extras[t[0].id]=n.appendTo(document.body));var h=this.genStateID();this.setCurrentStateID(h),this[r||i?"replaceState":"pushState"](a,h),this.forwardStack=[],this.animatePages(this.getCurrentPage(),t,null,o)},t.prototype.animatePages=function(t,n,a,o){function r(e){e.removeClass(i),e.trigger("pageAnimationEnd",[e[0].id,e])}var i="page-left page-right page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center";o?a?(t.trigger("pageAnimationStart",[n[0].id,n]),n.removeClass(i).removeClass("page-current"),t.removeClass(i).addClass("page-current"),t.hasClass("no-tabbar")?e(document.body).addClass("tabbar-hidden"):e(document.body).removeClass("tabbar-hidden"),n.trigger("pageInitInternal",[t[0].id,t])):(n.trigger("pageAnimationStart",[n[0].id,n]),t.removeClass(i).removeClass("page-current"),n.removeClass(i).addClass("page-current"),n.trigger("pageInitInternal",[n[0].id,n]),n.hasClass("no-tabbar")?e(document.body).addClass("tabbar-hidden"):e(document.body).removeClass("tabbar-hidden")):a?(t.trigger("pageAnimationStart",[n[0].id,n]),n.removeClass(i).addClass("page-from-center-to-right").removeClass("page-current"),t.removeClass(i).addClass("page-from-left-to-center page-current"),t.animationEnd(function(){r(t)}),n.animationEnd(function(){n.removeClass(i)}),t.hasClass("no-tabbar")?e(document.body).addClass("tabbar-hidden"):e(document.body).removeClass("tabbar-hidden"),n.trigger("pageInitInternal",[t[0].id,t])):(n.trigger("pageAnimationStart",[n[0].id,n]),t.removeClass(i).addClass("page-from-center-to-left").removeClass("page-current"),n.removeClass(i).addClass("page-from-right-to-center page-current"),t.animationEnd(function(){t.removeClass(i)}),n.animationEnd(function(){r(n)}),n.hasClass("no-tabbar")?e(document.body).addClass("tabbar-hidden"):e(document.body).removeClass("tabbar-hidden"),n.trigger("pageInitInternal",[n[0].id,n]))},t.prototype.getCurrentPage=function(){return e(".page-current")},t.prototype.forward=function(e){var t=JSON.parse(this.stack.getItem("forward"));t.length?history.forward():location.href=e},t.prototype.back=function(e){var t=JSON.parse(this.stack.getItem("back"));t.length?history.back():e?location.href=e:history.back()},t.prototype._back=function(){var t=this.popBack();if(t){var n=this.getCurrentPage(),a=e(t.pageid);a[0]&&(this.pushForward({url:location.href,pageid:"#"+n[0].id,id:this.getCurrentStateID(),animation:t.animation}),this.setCurrentStateID(t.id),this.animatePages(a,n,!0,!t.animation))}},t.prototype._forward=function(){var t=this.popForward();if(t){var n=this.getCurrentPage(),a=e(t.pageid);a[0]&&(this.pushBack({url:location.href,pageid:"#"+n[0].id,id:this.getCurrentStateID(),animation:t.animation}),this.setCurrentStateID(t.id),this.animatePages(n,a,!1,!t.animation))}},t.prototype.pushState=function(e,t){history.pushState({url:e,id:t},"",e)},t.prototype.replaceState=function(e,t){history.replaceState({url:e,id:t},"",e)},t.prototype.onpopstate=function(e){var t=e.state;if(!t)return!0;if(t.id===this.getCurrentStateID())return!1;var n=t.id>this.getCurrentStateID();n?this._forward():this._back()},t.prototype.getPage=function(t,n){if("#"===t[0])return n.apply(this,[e(t)]);this.dispatch("pageLoadStart"),this.xhr&&this.xhr.readyState<4&&(this.xhr.onreadystatechange=e.noop,this.xhr.abort(),this.dispatch("pageLoadCancel"));var a=this;this.xhr=e.ajax({url:t,success:e.proxy(function(e,t,a){var o=this.parseXHR(a),r=o[0],i=o[1];r[0].id||(r[0].id=this.genRandomID()),this.initPage(r[0]),r.data("page-remote",1),n.apply(this,[r,i])},this),error:function(){a.dispatch("pageLoadError")},complete:function(){a.dispatch("pageLoadComplete")}})},t.prototype.submitForm=function(t,n){this.dispatch("pageLoadStart"),this.xhr&&this.xhr.readyState<4&&(this.xhr.onreadystatechange=e.noop,this.xhr.abort(),this.dispatch("pageLoadCancel"));var a=this;this.xhr=e.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),success:e.proxy(function(e,t,a){var o=this.parseXHR(a),r=o[0],i=o[1];r[0].id||(r[0].id=this.genRandomID()),r.data("page-remote",1),n.apply(this,[r,i])},this),error:function(){a.dispatch("pageLoadError")},complete:function(){a.dispatch("pageLoadComplete")}})},t.prototype.parseXHR=function(t){var n=t.responseText,a=n.match(/<body[^>]*>([\s\S.]*)<\/body>/i),o=a?a[1]:n;o="<div>"+o+"</div>";var r=e(o),i=r.find(".popup, .popover, .panel, .panel-overlay"),s=r.find(".page");return s[0]||(s=r.addClass("page")),[s,i]},t.prototype.genStateID=function(){var e=parseInt(this.state.getItem("stateid"))+1;return this.state.setItem("stateid",e),e},t.prototype.getCurrentStateID=function(){return parseInt(this.state.getItem("currentStateID"))},t.prototype.setCurrentStateID=function(e){this.state.setItem("currentStateID",e)},t.prototype.genRandomID=function(){return"page-"+ +new Date},t.prototype.popBack=function(){var e=JSON.parse(this.stack.getItem("back"));if(!e.length)return null;var t=e.splice(e.length-1,1)[0];return this.stack.setItem("back",JSON.stringify(e)),t},t.prototype.pushBack=function(e){var t=JSON.parse(this.stack.getItem("back"));t.push(e),this.stack.setItem("back",JSON.stringify(t))},t.prototype.replaceBack=function(e){var t=JSON.parse(this.stack.getItem("back")),n=t.pop();n&&this.removePage(n.pageid),t.push(e),this.stack.setItem("back",JSON.stringify(t))},t.prototype.reloadBack=function(e){},t.prototype.popForward=function(){var e=JSON.parse(this.stack.getItem("forward"));if(!e.length)return null;var t=e.splice(e.length-1,1)[0];return this.stack.setItem("forward",JSON.stringify(e)),t},t.prototype.pushForward=function(e){var t=JSON.parse(this.stack.getItem("forward"));t.push(e),this.stack.setItem("forward",JSON.stringify(t))},t.prototype.dispatch=function(e){var t=new CustomEvent(e,{bubbles:!0,cancelable:!0});window.dispatchEvent(t)},e(function(){if(e.smConfig.router){var n=e.router=new t;n.defaults=t.prototype.defaults,e(document).on("click","a",function(t){var a=e(t.currentTarget);if(!(a.hasClass("external")||a[0].hasAttribute("external")||a.hasClass("tab-link")||a.hasClass("open-popup")||a.hasClass("open-panel"))){t.preventDefault();var o=a.attr("href");return a.hasClass("back")?void n.back(o):void(o&&"#"!==o&&!/javascript:.*;/.test(o)&&n.loadPage(o,!!a.hasClass("no-transition")||void 0,!!a.hasClass("replace")||void 0))}}),e(document).on("submit","form",function(t){var a=e(this);a.hasClass("external")||a[0].hasAttribute("external")||(t.preventDefault(),n.currentPageParam={url:a.attr("action"),noAnimation:!!a.hasClass("no-transition")||void 0,replace:!!a.hasClass("replace")||void 0,reload:!1},n.submitForm(a,n.handlePageResult))})}})}($),+function(e){"use strict";var t=function(){var t=e(".page-current");return t[0]||(t=e(".page").addClass("page-current")),t};e.initPage=function(n){var a=n?e(n):t();a[0]||(a=e(document.body));var o=a.hasClass("content")?a:a.find(".content");e.initPullToRefresh(o),e.initInfiniteScroll(o),e.initCalendar(o),e.initIndexList(o),e.initSwiper&&e.initSwiper(o),e.initSwipeout&&e.initSwipeout()},e.smConfig.showPageLoadingIndicator&&(e(window).on("pageLoadStart",function(){e.showIndicator()}),e(document).on("pageAnimationStart",function(){e.hideIndicator()}),e(window).on("pageLoadCancel",function(){e.hideIndicator()}),e(window).on("pageLoadError",function(){e.hideIndicator(),e.toast("")})),e.init=function(){var n=t(),a=n[0].id;n.hasClass("page-inited")?n.trigger("pageReinit",[a,n]):(e.initPage(),n.addClass("page-inited"),n.trigger("pageInit",[a,n]))},e(function(){e.smConfig.autoInit&&e.init(),e(document).on("pageInitInternal",function(t,n,a){e.init()})})}($);